<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>SMOKE HUB | –†–∞–Ω–¥–æ–º–∞–π–∑–µ—Ä</title>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: radial-gradient(circle at top, #1b0b2e, #0b0416);
  color: #fff;
  display: flex;
  flex-direction: column;
  align-items: center;
  height: 100vh;
  overflow: hidden;
}

/* –°–ù–Ü–ì */
.snowflake {
  position: fixed; color: white; font-size: 1em; opacity: 0.8;
  pointer-events: none; z-index: 9999; animation: fall linear infinite;
}
@keyframes fall { to { transform: translateY(110vh); } }

/* –õ–û–ì–û */
.logo { display: flex; align-items: center; gap: 10px; margin: 15px 0 5px; flex-shrink: 0; }
.logo-icon { font-size: 24px; }
.logo-text {
  font-weight: 900; font-size: 24px;
  background: linear-gradient(90deg, #ff0055, #00f2ff, #ff0055);
  background-size: 200% auto; -webkit-background-clip: text;
  -webkit-text-fill-color: transparent; animation: gradient-move 3s linear infinite;
}
@keyframes gradient-move { to { background-position: 200% center; } }

/* –ö–ê–†–¢–ö–ê */
.card {
  width: 92%; 
  max-width: 400px; 
  max-height: 85vh; 
  background: rgba(255,255,255,0.07);
  padding: 15px;
  border-radius: 20px;
  backdrop-filter: blur(10px);
  border: 1px solid rgba(255,255,255,0.1);
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
}

.card-static-top { flex-shrink: 0; width: 100%; }

/* –°–ö–†–û–õ –°–ü–ò–°–ö–£ */
.list-scrollable {
  overflow-y: auto;
  flex-grow: 1;
  min-height: 0;
  margin: 10px 0;
  padding-right: 5px;
  -webkit-overflow-scrolling: touch;
}
.list-scrollable::-webkit-scrollbar { width: 4px; }
.list-scrollable::-webkit-scrollbar-thumb { background: #ff0055; border-radius: 10px; }

/* –ö–ù–û–ü–ö–ò */
.buttons button, .back-btn, .wheel-again-btn {
  padding: 14px; border-radius: 12px; border: none; font-size: 16px;
  cursor: pointer; width: 100%; font-weight: bold; text-align: center;
  transition: 0.2s; box-sizing: border-box;
}

.buttons { display: flex; flex-direction: column; gap: 10px; }
.buttons button { background: rgba(255,255,255,0.1); color: #fff; }
.back-btn { background: rgba(255,255,255,0.15); color: #fff; text-decoration: none; margin-bottom: 10px; display: block; }
.wheel-again-btn { background: linear-gradient(90deg,#ff2f92,#ff005d); color: #fff; margin-top: 10px; flex-shrink: 0; display: none; }

/* –†–û–ó–ú–ò–¢–ò–ô –§–û–ù –ü–†–ò –ö–†–£–¢–Ü–ù–ù–Ü (–í–ò–ü–†–ê–í–õ–ï–ù–û) */
#wheel-overlay { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(11, 4, 22, 0.4); /* –ù–∞–ø—ñ–≤–ø—Ä–æ–∑–æ—Ä–∏–π —Ç–µ–º–Ω–∏–π —Ñ–æ–Ω */
    backdrop-filter: blur(15px); /* –¢–£–¢ –°–ê–ú–ï –†–û–ó–ú–ò–¢–¢–Ø */
    -webkit-backdrop-filter: blur(15px); /* –î–ª—è iPhone */
    z-index: 10000; display: none; 
    align-items: center; justify-content: center; 
}

.wheel-container { position: relative; width: 280px; height: 280px; border: 5px solid #fff; border-radius: 50%; box-shadow: 0 0 30px rgba(0,0,0,0.5); }
.pointer { position: absolute; right: -25px; top: 50%; transform: translateY(-50%); width: 0; height: 0; border-top: 15px solid transparent; border-bottom: 15px solid transparent; border-right: 35px solid #fff; z-index: 100; }
#main-wheel { width: 100%; height: 100%; border-radius: 50%; position: relative; overflow: hidden; transition: transform 7s cubic-bezier(0.1, 0, 0, 1); }
.wheel-label { position: absolute; width: 50%; height: 20px; top: calc(50% - 10px); left: 50%; transform-origin: left center; display: flex; align-items: center; justify-content: center; padding-left: 20px; font-size: 8px; font-weight: 900; text-transform: uppercase; white-space: nowrap; text-shadow: 1px 1px 2px #000; }

.result-card { margin-bottom: 10px; padding: 12px; border-radius: 12px; background: rgba(255,255,255,0.1); border-left: 4px solid #00f2ff; text-align: left; }
</style>
</head>

<body>

<script>
for(let i=0;i<15;i++){
  let s = document.createElement("div"); s.className="snowflake"; s.innerHTML = "‚ùÑÔ∏è";
  s.style.left = Math.random()*100 + "vw"; s.style.animationDuration = 5 + Math.random()*10 + "s";
  document.body.appendChild(s);
}
</script>

<div id="wheel-overlay">
    <div class="pointer"></div>
    <div class="wheel-container"><div id="main-wheel"></div></div>
</div>

<div class="logo"><span class="logo-icon">üéÖ</span><span class="logo-text">SMOKE HUB</span></div>

<div id="quiz" class="card">
  <div class="card-static-top">
    <a href="index.html" class="back-btn">‚Üê –ù–∞–∑–∞–¥</a>
    <h2 style="margin: 0 0 15px; text-align: center; font-size: 20px;">–Ø–∫–∏–π —Å–º–∞–∫ —Å—å–æ–≥–æ–¥–Ω—ñ?</h2>
  </div>
  <div class="buttons">
    <button onclick="pick('fruit')">üçì –§—Ä—É–∫—Ç–∏</button>
    <button onclick="pick('mint')">‚ùÑÔ∏è –•–æ–ª–æ–¥ / –ú º—è—Ç–∞</button>
    <button onclick="pick('drink')">ü•§ –ù–∞–ø–æ—ó</button>
    <button onclick="pick('sweet')">üç∞ –î–µ—Å–µ—Ä—Ç</button>
    <button style="background: #fff; color: #000;" onclick="startWheel()">üé° –ö–æ–ª–µ—Å–æ –§–æ—Ä—Ç—É–Ω–∏</button>
  </div>
</div>

<div id="result" class="card" style="display:none;">
  <div class="card-static-top">
    <button class="back-btn" onclick="restart()">‚Üê –ù–∞–∑–∞–¥</button>
    <h2 style="text-align: center; margin: 0; font-size: 20px;">üéÅ –¢–≤—ñ–π –≤–∏–±—ñ—Ä:</h2>
  </div>
  <div class="list-scrollable" id="list"></div>
  <button id="wheel-btn" class="wheel-again-btn" onclick="startWheel()">–ö—Ä—É—Ç–∏—Ç–∏ —â–µ üé°</button>
</div>

<script>
const juices = [
  {name: "BERRY MINT", color: "#ff0055", tags: ["fruit","mint"], desc: "–í–∏–±—É—Ö–æ–≤–∏–π –º—ñ–∫—Å –ª—ñ—Å–æ–≤–∏—Ö —è–≥—ñ–¥ –∑ —Ö–æ–ª–æ–¥–∫–æ–º."},
  {name: "SPEARMINT", color: "#00f2ff", tags: ["mint"], desc: "–ö–ª–∞—Å–∏—á–Ω–∞ —Å–∞–¥–æ–≤–∞ –º'—è—Ç–∞: —á–∏—Å—Ç–∏–π —Å–º–∞–∫."},
  {name: "DOUBLE GRAPE", color: "#8e2de2", tags: ["fruit","sweet"], desc: "–î—É–µ—Ç —Ç–µ–º–Ω–æ–≥–æ —Ç–∞ —Å–≤—ñ—Ç–ª–æ–≥–æ –≤–∏–Ω–æ–≥—Ä–∞–¥—É."},
  {name: "APPLE MIX", color: "#4CAF50", tags: ["fruit"], desc: "–ë–∞–ª–∞–Ω—Å –º—ñ–∂ –∫–∏—Å–ª–∏–º —Ç–∞ —Å–æ–ª–æ–¥–∫–∏–º —è–±–ª—É–∫–æ–º."},
  {name: "RASPBERRY", color: "#ff2f92", tags: ["fruit","sweet"], desc: "–ü–æ–¥–≤—ñ–π–Ω–∞ –ø–æ—Ä—Ü—ñ—è —Å—Ç–∏–≥–ª–æ—ó –º–∞–ª–∏–Ω–∏."},
  {name: "CRANBERRY", color: "#d50000", tags: ["fruit"], desc: "–ñ—É—Ä–∞–≤–ª–∏–Ω–Ω–∏–π –º–æ—Ä—Å –∑ –±–ª–∞–≥–æ—Ä–æ–¥–Ω–æ—é –∫–∏—Å–ª–∏–Ω–∫–æ—é."},
  {name: "WATERMELON", color: "#e91e63", tags: ["fruit","sweet"], desc: "–ö–∞–≤—É–Ω —É –ø–æ—î–¥–Ω–∞–Ω–Ω—ñ –∑ –º–µ–¥–æ–≤–æ—é –¥–∏–Ω–µ—é."},
  {name: "COLA LEMON", color: "#3e2723", tags: ["drink","sweet"], desc: "–ì–∞–∑–∏—Ä–æ–≤–∫–∞ –∑ —á–∞—Å—Ç–æ—á–∫–æ—é –ª–∏–º–æ–Ω–∞."},
  {name: "REDBULL BLUE", color: "#1a237e", tags: ["drink","sweet"], desc: "–ï–Ω–µ—Ä–≥–µ—Ç–∏–∫ –∑ —Å–∏–Ω—å–æ—é –º–∞–ª–∏–Ω–æ—é."},
  {name: "PINEAPPLE", color: "#ff9800", tags: ["drink","sweet"], desc: "–ê–Ω–∞–Ω–∞—Å–æ–≤–∏–π –ª–∏–º–æ–Ω–∞–¥."},
  {name: "MULTIFRUIT", color: "#795548", tags: ["fruit","sweet"], desc: "–Ø—Å–∫—Ä–∞–≤–∏–π —Ç—Ä–æ–ø—ñ—á–Ω–∏–π –ø—É–Ω—à."},
  {name: "BALI SHOT", color: "#009688", tags: ["fruit","sweet"], desc: "–ú—ñ–∫—Å –≥—É–∞–≤–∏, –º–∞—Ä–∞–∫—É–π—è —Ç–∞ –∞–ø–µ–ª—å—Å–∏–Ω–∞."}
];

const wheel = document.getElementById('main-wheel');
const step = 360 / juices.length;

function setupWheel() {
    let gradient = juices.map((j, i) => `${j.color} ${i * step}deg ${(i + 1) * step}deg`).join(', ');
    wheel.style.background = `conic-gradient(${gradient})`;
    juices.forEach((j, i) => {
        const div = document.createElement('div');
        div.className = 'wheel-label';
        div.style.transform = `rotate(${i * step + (step / 2)}deg)`;
        div.innerText = j.name;
        wheel.appendChild(div);
    });
}
setupWheel();

function startWheel() {
    document.getElementById('wheel-btn').style.display = 'none';
    const overlay = document.getElementById('wheel-overlay');
    overlay.style.display = 'flex';
    wheel.style.transition = 'none';
    wheel.style.transform = 'rotate(0deg)';
    setTimeout(() => {
        const randomIndex = Math.floor(Math.random() * juices.length);
        const totalRotation = (360 * 10) - (randomIndex * step + step / 2);
        wheel.style.transition = 'transform 7s cubic-bezier(0.1, 0, 0, 1)';
        wheel.style.transform = `rotate(${totalRotation}deg)`;
        setTimeout(() => {
            overlay.style.display = 'none';
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
            showResult([juices[randomIndex]], true);
        }, 7200);
    }, 50);
}

function pick(tag){ showResult(juices.filter(j => j.tags.includes(tag)), false); }

function showResult(array, fromWheel){
  document.getElementById("quiz").style.display="none";
  document.getElementById("result").style.display="flex";
  document.getElementById("wheel-btn").style.display = fromWheel ? "block" : "none";
  const list = document.getElementById("list");
  list.innerHTML = "";
  array.forEach(j => {
    const div = document.createElement("div");
    div.className="result-card";
    div.innerHTML = `<strong style="color:#00f2ff; font-size:16px;">${j.name}</strong><br><small style="color:#eee;">${j.desc}</small>`;
    list.appendChild(div);
  });
}

function restart(){
  document.getElementById("quiz").style.display="flex";
  document.getElementById("result").style.display="none";
}
</script>
</body>
</html>
